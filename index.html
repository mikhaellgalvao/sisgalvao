<!DOCTYPE html>
<html lang="pt-br" class="scroll-smooth">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
    <title>Portal Galv√£o Drones | Gest√£o Especializada DJI</title>
    <link rel="icon" href="https://imgur.com/ny5U9KV.png" type="image/png">
    <script src="https://cdn.tailwindcss.com"></script>
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700;800&display=swap" rel="stylesheet">
    <script>
        tailwind.config = {
            darkMode: 'class',
            theme: {
                extend: {
                    colors: {
                        'brand-orange': '#EF7E13',
                        'brand-green': '#0E5847',
                    }
                }
            }
        }
    </script>
    <style>
        body { font-family: 'Inter', sans-serif; -webkit-tap-highlight-color: transparent; }
        .spinner { border: 4px solid rgba(0, 0, 0, 0.1); width: 36px; height: 36px; border-radius: 50%; border-left-color: #EF7E13; animation: spin 1s ease infinite; }
        @keyframes spin { 0% { transform: rotate(0deg); } 100% { transform: rotate(360deg); } }
        
        .sidebar-link.active { 
            background-color: #EF7E13; 
            color: white !important; 
            box-shadow: 0 4px 12px rgba(239, 126, 19, 0.3);
        }
        
        .glass-card {
            background: rgba(255, 255, 255, 0.95);
            backdrop-filter: blur(10px);
        }
        .dark .glass-card {
            background: rgba(31, 41, 55, 0.95);
        }

        .profile-avatar-div {
            background-size: cover !important;
            background-position: center !important;
            background-repeat: no-repeat !important;
        }

        .hide-scrollbar::-webkit-scrollbar { display: none; }
        .hide-scrollbar { -ms-overflow-style: none; scrollbar-width: none; }
        
        #sidebar-overlay {
            display: none;
            position: fixed;
            inset: 0;
            background: rgba(0,0,0,0.5);
            z-index: 35;
        }

        /* Estilo para Radio Buttons Customizados no Modal */
        .vendedor-option input:checked + div {
            border-color: #EF7E13;
            background-color: rgba(239, 126, 19, 0.05);
        }
    </style>
</head>
<body class="bg-gray-100 dark:bg-zinc-950 transition-colors duration-300 text-slate-900 dark:text-zinc-100 overflow-x-hidden">

    <div id="sidebar-overlay"></div>

    <!-- LOGIN VIEW -->
    <div id="login-view" class="flex items-center justify-center min-h-screen px-4 bg-gradient-to-br from-brand-green to-zinc-900">
        <div id="login-card" class="w-full max-w-md p-6 sm:p-8 glass-card rounded-3xl shadow-2xl border dark:border-white/10">
            <div id="login-header" class="text-center mb-6">
                <img id="login-logo-trigger" src="https://imgur.com/2PNy5CS.png" alt="Logo Galv√£o Drones" class="mx-auto mb-4 h-16 sm:h-20 w-auto drop-shadow-lg cursor-pointer active:scale-95 transition-transform select-none">
                <h1 class="text-xl sm:text-2xl font-bold text-brand-green dark:text-gray-100 uppercase tracking-tight">Portal Galv√£o Drones</h1>
                <p class="mt-1 text-xs sm:text-sm text-gray-500 dark:text-gray-400">Gest√£o T√©cnica e Comercial DJI</p>
            </div>
            <form id="login-form" class="space-y-4">
                <div>
                    <label for="username-input" class="block text-[10px] font-bold uppercase tracking-widest text-gray-400 mb-1 text-left">Usu√°rio</label>
                    <input type="text" id="username-input" required class="w-full rounded-2xl border border-gray-300 dark:border-zinc-700 px-4 py-4 bg-white dark:bg-zinc-800 focus:ring-2 focus:ring-brand-orange outline-none transition-all text-sm">
                </div>
                <div>
                    <label for="password-input" class="block text-[10px] font-bold uppercase tracking-widest text-gray-400 mb-1 text-left">Senha</label>
                    <div class="relative">
                        <input type="password" id="password-input" required class="w-full rounded-2xl border border-gray-300 dark:border-zinc-700 px-4 py-4 bg-white dark:bg-zinc-800 focus:ring-2 focus:ring-brand-orange outline-none transition-all text-sm">
                        <button type="button" id="toggle-password-visibility" class="absolute right-4 top-1/2 -translate-y-1/2 text-gray-400 opacity-80 p-1">
                            <svg id="eye-icon" xmlns="http://www.w3.org/2000/svg" class="h-5 w-5" fill="none" viewBox="0 0 24 24" stroke="currentColor">
                                <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M15 12a3 3 0 11-6 0 3 3 0 016 0z" />
                                <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M2.458 12C3.732 7.943 7.523 5 12 5c4.478 0 8.268 2.943 9.542 7-1.274 4.057-5.064 7-9.542 7-4.477 0-8.268-2.943-9.542-7z" />
                            </svg>
                        </button>
                    </div>
                </div>
                
                <div class="flex items-center justify-between px-1">
                    <label class="flex items-center gap-2 cursor-pointer group">
                        <input type="checkbox" id="remember-me" class="w-4 h-4 rounded border-gray-300 text-brand-orange focus:ring-brand-orange">
                        <span class="text-[10px] font-bold text-gray-500 uppercase group-hover:text-brand-orange transition-colors">Lembrar Senha</span>
                    </label>
                </div>

                <button type="submit" class="w-full py-4 bg-brand-green hover:bg-emerald-900 text-white font-bold rounded-2xl shadow-lg transition-all active:scale-95 uppercase text-xs tracking-widest">Entrar no Sistema</button>
                <button type="button" id="visitor-login-button" class="w-full py-3 bg-zinc-200 dark:bg-zinc-800 text-zinc-600 dark:text-zinc-400 font-bold rounded-2xl transition-all uppercase text-[10px] tracking-widest">Acesso Visitante</button>
            </form>
            <div id="error-message" class="hidden p-4 bg-red-100 text-red-700 text-xs rounded-2xl text-center font-bold mt-4 uppercase">Credenciais Inv√°lidas</div>
            <div id="success-message" class="hidden text-center mt-6">
                <div class="spinner mx-auto"></div>
                <p class="mt-4 text-xs font-bold text-brand-green dark:text-gray-200 uppercase tracking-tighter animate-pulse text-center">Iniciando Portal Galv√£o Drones...</p>
            </div>
        </div>
    </div>

    <!-- MAIN APP VIEW -->
    <div id="dashboard-view" class="hidden flex h-screen overflow-hidden bg-gray-50 dark:bg-zinc-950">
        <!-- SIDEBAR -->
        <aside id="sidebar-menu" class="fixed inset-y-0 left-0 w-72 bg-white dark:bg-zinc-900 shadow-2xl transform -translate-x-full lg:relative lg:translate-x-0 transition-transform duration-300 ease-in-out z-40 flex flex-col border-r dark:border-zinc-800">
            <div id="sidebar-header" class="p-8 border-b dark:border-zinc-800 flex flex-col items-center">
                <a href="#" data-page="perfil" id="sidebar-profile-header" class="sidebar-link flex flex-col items-center w-full gap-3">
                    <div id="sidebar-profile-picture" class="w-20 h-20 rounded-full bg-brand-orange text-white flex items-center justify-center font-bold text-3xl border-4 border-gray-100 dark:border-zinc-800 shadow-xl profile-avatar-div overflow-hidden transition-transform hover:scale-105">
                        <span id="sidebar-profile-placeholder">?</span>
                    </div>
                    <div class="text-center">
                        <p id="sidebar-user-name" class="font-black text-sm text-slate-800 dark:text-white truncate w-56 tracking-tight uppercase italic"></p>
                        <p id="sidebar-user-role" class="text-[10px] text-brand-orange font-bold uppercase tracking-widest mt-0.5 italic"></p>
                    </div>
                </a>
            </div>

            <nav class="flex-1 px-4 py-6 space-y-2 overflow-y-auto hide-scrollbar text-left">
                <a href="#" data-page="dashboard" class="sidebar-link active flex items-center px-5 py-4 rounded-2xl font-bold transition-all text-sm uppercase tracking-tighter italic">Dashboard</a>
                <a href="#" data-page="consultas" class="sidebar-link flex items-center px-5 py-4 rounded-2xl font-bold transition-all text-sm uppercase tracking-tighter italic"><span id="sidebar-consultas-text">Consultas de Pre√ßo</span></a>
                <a href="#" data-page="marketing" id="sidebar-marketing-link" class="sidebar-link flex items-center px-5 py-4 rounded-2xl font-bold transition-all text-sm uppercase tracking-tighter italic">Marketing</a>
                <a href="#" data-page="produtos" id="sidebar-produtos-link" class="sidebar-link flex items-center px-5 py-4 rounded-2xl font-bold transition-all text-sm uppercase tracking-tighter italic">Lista Interna</a>
                
                <div class="pt-4 mt-4 border-t dark:border-zinc-800">
                    <a href="#" data-page="admin" id="admin-link" class="sidebar-link hidden flex items-center px-5 py-4 rounded-2xl font-bold text-red-500 transition-all text-sm uppercase tracking-tighter italic">Administra√ß√£o</a>
                    <a href="#" data-page="perfil" id="sidebar-perfil-link" class="sidebar-link flex items-center px-5 py-4 rounded-2xl font-bold transition-all text-sm uppercase tracking-tighter italic text-slate-800 dark:text-white">Meu Perfil</a>
                    <a href="#" data-page="sobre" id="sobre-link" class="sidebar-link flex items-center px-5 py-4 rounded-2xl font-bold transition-all text-sm uppercase tracking-tighter italic text-slate-400">Sobre a Empresa</a>
                </div>
            </nav>
        </aside>

        <!-- CONTENT AREA -->
        <div class="flex-1 flex flex-col min-w-0 overflow-y-auto">
            <header class="h-20 bg-white/90 dark:bg-zinc-900/90 backdrop-blur-lg border-b dark:border-zinc-800 px-4 sm:px-8 flex items-center justify-between sticky top-0 z-30">
                <div class="flex items-center gap-3">
                    <button id="menu-button" class="lg:hidden p-2 bg-gray-100 dark:bg-zinc-800 rounded-xl text-gray-600 dark:text-zinc-300"><svg class="w-6 h-6" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path d="M4 6h16M4 12h16M4 18h16" stroke-width="2" stroke-linecap="round"></path></svg></button>
                    <h1 id="page-title" class="text-lg sm:text-xl font-black text-slate-800 dark:text-white uppercase italic tracking-tighter">Dashboard</h1>
                </div>
                <div class="flex items-center gap-2">
                    <button id="theme-toggle" class="p-2.5 rounded-xl bg-gray-100 dark:bg-zinc-800 text-gray-500 dark:text-zinc-400 transition-all active:rotate-12">
                        <svg id="theme-icon" class="w-5 h-5" fill="currentColor" viewBox="0 0 20 20"><path d="M17.293 13.293A8 8 0 016.707 2.707a8.001 8.001 0 1010.586 10.586z"></path></svg>
                    </button>
                    <button id="logout-button" class="px-4 py-2 bg-brand-orange text-white font-bold rounded-xl text-[10px] uppercase shadow-lg active:scale-95 transition-all tracking-widest">Sair</button>
                </div>
            </header>

            <main id="main-content" class="p-4 sm:p-8">
                <!-- Page: Dashboard Content -->
                <section id="dashboard-page" class="page-content space-y-6">
                    <div class="bg-white dark:bg-zinc-900 p-6 sm:p-8 rounded-[2.5rem] shadow-sm border dark:border-zinc-800">
                        <h2 class="text-2xl sm:text-3xl font-black italic tracking-tighter text-slate-800 dark:text-white uppercase italic text-left">Ol√°, <span id="welcome-user-name" class="text-brand-orange"></span>!</h2>
                        <p class="text-gray-500 mt-1 text-[10px] font-bold uppercase tracking-widest text-left italic">Central Goi√¢nia | Acesso: <span id="welcome-user-role" class="text-brand-green"></span></p>
                    </div>

                    <div class="grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-4" id="quick-access-grid">
                        <button data-page="consultas" id="card-consultas" class="quick-access-link p-6 sm:p-8 bg-white dark:bg-zinc-900 rounded-[2.5rem] border dark:border-zinc-800 hover:shadow-2xl transition-all flex flex-col items-center group active:scale-95">
                            <div class="p-5 bg-emerald-50 dark:bg-emerald-900/20 text-brand-green rounded-3xl mb-4 group-hover:bg-brand-green group-hover:text-white transition-all shadow-inner"><svg class="w-10 h-10" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path d="M21 21l-6-6m2-5a7 7 0 11-14 0 7 7 0 0114 0z" stroke-width="2" stroke-linecap="round"></path></svg></div>
                            <span class="font-black uppercase text-xs dark:text-white tracking-widest italic" id="card-consultas-text">Consultas</span>
                        </button>
                        <button data-page="marketing" id="card-marketing" class="quick-access-link p-6 sm:p-8 bg-white dark:bg-zinc-900 rounded-[2.5rem] border dark:border-zinc-800 hover:shadow-2xl transition-all flex flex-col items-center group active:scale-95">
                            <div class="p-5 bg-orange-50 dark:bg-orange-900/20 text-brand-orange rounded-3xl mb-4 group-hover:bg-brand-orange group-hover:text-white transition-all shadow-inner"><svg class="w-10 h-10" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path d="M4 16l4.586-4.586a2 2 0 012.828 0L16 16m-2-2l1.586-1.586a2 2 0 012.828 0L20 14m-6-6h.01M6 20h14a2 2 0 002-2V6a2 2 0 00-2-2H6a2 2 0 00-2 2v12a2 2 0 002 2z" stroke-width="2" stroke-linecap="round"></path></svg></div>
                            <span class="font-black uppercase text-xs dark:text-white tracking-widest italic text-center text-slate-800 dark:text-white italic">Marketing</span>
                        </button>
                        <button data-page="produtos" id="card-produtos" class="quick-access-link p-6 sm:p-8 bg-white dark:bg-zinc-900 rounded-[2.5rem] border dark:border-zinc-800 hover:shadow-2xl transition-all flex flex-col items-center group active:scale-95">
                            <div class="p-5 bg-indigo-50 dark:bg-indigo-900/20 text-indigo-600 rounded-3xl mb-4 group-hover:bg-indigo-600 group-hover:text-white transition-all shadow-inner"><svg class="w-10 h-10" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path d="M19 11H5m14 0a2 2 0 012 2v6a2 2 0 01-2 2H5a2 2 0 01-2-2v-6a2 2 0 012-2m14 0V9a2 2 0 00-2-2M5 11V9a2 2 0 002-2m0 0V5a2 2 0 012-2h6a2 2 0 012 2v2M7 7h10" stroke-width="2" stroke-linecap="round"></path></svg></div>
                            <span class="font-black uppercase text-xs dark:text-white tracking-widest italic text-center text-slate-800 dark:text-white italic">Lista Interna</span>
                        </button>
                        <button data-page="perfil" id="card-perfil" class="quick-access-link p-6 sm:p-8 bg-white dark:bg-zinc-900 rounded-[2.5rem] border dark:border-zinc-800 hover:shadow-2xl transition-all flex flex-col items-center group active:scale-95">
                            <div class="p-5 bg-blue-50 dark:bg-blue-900/20 text-blue-600 rounded-3xl mb-4 group-hover:bg-blue-600 group-hover:text-white transition-all shadow-inner"><svg class="w-10 h-10" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path d="M16 7a4 4 0 11-8 0 4 4 0 018 0zM12 14a7 7 0 00-7 7h14a7 7 0 00-7-7z" stroke-width="2" stroke-linecap="round"></path></svg></div>
                            <span class="font-black uppercase text-xs dark:text-white tracking-widest italic text-center text-slate-800 dark:text-white italic">Meu Perfil</span>
                        </button>
                        <button data-page="admin" id="admin-card" class="quick-access-link hidden p-6 sm:p-8 bg-white dark:bg-zinc-900 rounded-[2.5rem] border border-red-100 dark:border-red-900/30 hover:shadow-2xl transition-all flex flex-col items-center group text-red-500 active:scale-95">
                            <div class="p-5 bg-red-50 dark:bg-red-900/20 text-red-600 rounded-3xl mb-4 group-hover:bg-red-600 group-hover:text-white transition-all shadow-inner"><svg class="w-10 h-10" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path d="M10.325 4.317c.426-1.756 2.924-1.756 3.35 0a1.724 1.724 0 002.573 1.066c1.543-.94 3.31.826 2.37 2.37" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"></path></svg></div>
                            <span class="font-black uppercase text-xs tracking-widest italic text-center italic">Administra√ß√£o</span>
                        </button>
                    </div>
                </section>

                <!-- Page: Consultas -->
                <section id="consultas-page" class="page-content hidden space-y-6">
                    <div class="flex flex-col sm:flex-row gap-3">
                        <input type="text" id="consultas-search-input" placeholder="Pesquisar no banco DJI..." class="flex-1 p-5 rounded-2xl border dark:border-zinc-800 outline-none focus:ring-2 focus:ring-brand-green bg-white dark:bg-zinc-900 text-sm font-medium shadow-sm">
                        <button id="consultas-search-button" class="w-full sm:w-auto bg-brand-green text-white px-10 py-5 rounded-2xl font-bold uppercase text-xs transition-all active:scale-95 shadow-lg tracking-widest italic">Buscar</button>
                    </div>
                    <div id="consultas-search-results" class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4 sm:gap-6"></div>
                </section>

                <!-- Outras Se√ß√µes (Mantidas Ocultas) -->
                <section id="perfil-page" class="page-content hidden space-y-6">
                    <div class="grid grid-cols-1 lg:grid-cols-3 gap-6">
                        <div class="lg:col-span-1 bg-white dark:bg-zinc-900 p-8 rounded-[2.5rem] border dark:border-zinc-800 text-center space-y-6 shadow-sm">
                            <div id="profile-picture-container-inner" class="relative w-48 h-48 mx-auto rounded-full bg-gray-100 dark:bg-zinc-800 border-4 border-brand-orange shadow-2xl flex items-center justify-center bg-cover bg-center overflow-hidden profile-avatar-div">
                                <span id="profile-picture-placeholder-inner" class="text-gray-400 font-bold uppercase text-[10px]">DJI EXPERT</span>
                            </div>
                            <div class="space-y-1">
                                <h3 id="profile-display-name" class="text-2xl font-black uppercase italic tracking-tight text-slate-800 dark:text-white italic"></h3>
                                <p id="profile-display-role" class="text-brand-orange font-bold uppercase text-[10px] tracking-widest italic"></p>
                            </div>
                        </div>
                        <div class="lg:col-span-2 bg-white dark:bg-zinc-900 p-6 sm:p-8 rounded-[2.5rem] border dark:border-zinc-800 space-y-8 shadow-sm">
                            <div class="space-y-4 text-left">
                                <h4 class="text-lg font-black text-brand-green uppercase italic border-b dark:border-zinc-800 pb-2 tracking-tight italic">Dados Profissionais</h4>
                                <div class="grid grid-cols-1 md:grid-cols-2 gap-4">
                                    <div><label class="block text-[10px] font-bold uppercase text-gray-400 mb-1">Nome Completo</label><input type="text" id="profile-fullname" class="w-full p-4 bg-gray-50 dark:bg-zinc-800 rounded-2xl outline-none text-sm font-bold" readonly></div>
                                    <div><label class="block text-[10px] font-bold uppercase text-gray-400 mb-1">WhatsApp</label><input type="text" id="profile-wa" class="w-full p-4 bg-gray-50 dark:bg-zinc-800 rounded-2xl outline-none text-sm font-bold" readonly></div>
                                    <div class="md:col-span-2"><label class="block text-[10px] font-bold uppercase text-gray-400 mb-1 text-left">Usu√°rio de Login</label><input type="text" id="profile-user" class="w-full p-4 bg-gray-50 dark:bg-zinc-800 rounded-2xl outline-none text-sm font-bold" readonly></div>
                                </div>
                            </div>
                            <div class="space-y-4 pt-4 border-t dark:border-zinc-800 text-left text-slate-800 dark:text-white">
                                <h4 class="text-lg font-black text-brand-green uppercase italic border-b dark:border-zinc-800 pb-2 tracking-tight italic">Informa√ß√µes Corporativas</h4>
                                <div class="grid grid-cols-1 md:grid-cols-2 gap-4">
                                    <div><label class="block text-[10px] font-bold uppercase text-gray-400 mb-1">CNPJ Oficial</label><input type="text" class="w-full p-4 bg-gray-100 dark:bg-zinc-800 rounded-2xl text-sm font-bold" value="48.429.698/0001-91" readonly></div>
                                    <div><label class="block text-[10px] font-bold uppercase text-gray-400 mb-1 text-left">Unidade Regional</label><input type="text" class="w-full p-4 bg-gray-100 dark:bg-zinc-800 rounded-2xl text-sm font-bold" value="Goi√¢nia - GO" readonly></div>
                                </div>
                                <div><label class="block text-[10px] font-bold uppercase text-gray-400 mb-1 text-left">E-mail Corporativo</label><input type="text" class="w-full p-4 bg-gray-100 dark:bg-zinc-800 rounded-2xl text-sm font-bold" value="contato@galvaodrones.com.br" readonly></div>
                            </div>
                        </div>
                    </div>
                </section>
                <section id="marketing-page" class="page-content hidden text-center p-12 bg-white dark:bg-zinc-900 rounded-[2.5rem] border dark:border-zinc-800 font-black uppercase text-brand-green italic tracking-widest italic shadow-sm">Reposit√≥rio Galv√£o</section>
                <section id="produtos-page" class="page-content hidden space-y-6"><div id="produtos-search-results" class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4 sm:gap-6"></div></section>
                <section id="sobre-page" class="page-content hidden text-center p-12 bg-white dark:bg-zinc-900 rounded-[2.5rem] border dark:border-zinc-800 font-black uppercase text-brand-green italic tracking-widest italic leading-relaxed shadow-sm">Galv√£o Drones | Goi√¢nia</section>
                <section id="admin-page" class="page-content hidden text-center p-12 bg-white dark:bg-zinc-900 rounded-[2.5rem] border border-red-500/20 text-red-600 font-black uppercase italic tracking-widest shadow-sm italic">Gest√£o Admin Alpha</section>
            </main>
        </div>
    </div>

    <!-- MODAL DISPONIBILIDADE -->
    <div id="availability-modal" class="hidden fixed inset-0 bg-black/80 backdrop-blur-md z-[100] flex items-center justify-center p-4">
        <div class="bg-white dark:bg-zinc-900 rounded-[2.5rem] w-full max-w-sm p-8 shadow-2xl border dark:border-white/10 text-center animate-in zoom-in duration-200">
            <h3 class="text-xl font-black text-brand-green dark:text-white uppercase italic tracking-tighter mb-2">Verificar Estoque</h3>
            <p class="text-[10px] text-gray-500 dark:text-gray-400 font-bold uppercase tracking-widest mb-6" id="modal-product-name"></p>
            
            <div class="space-y-3 mb-8 text-left">
                <label class="vendedor-option block cursor-pointer group">
                    <input type="radio" name="vendedor" value="mikhaell" checked class="hidden">
                    <div class="p-4 border-2 border-gray-100 dark:border-zinc-800 rounded-2xl flex items-center justify-between transition-all group-hover:border-brand-orange">
                        <span class="font-bold text-sm dark:text-white">Mikhaell</span>
                        <span class="text-[9px] font-bold text-gray-400 uppercase tracking-widest">Goi√¢nia</span>
                    </div>
                </label>
                <label class="vendedor-option block cursor-pointer group">
                    <input type="radio" name="vendedor" value="maikhon" class="hidden">
                    <div class="p-4 border-2 border-gray-100 dark:border-zinc-800 rounded-2xl flex items-center justify-between transition-all group-hover:border-brand-orange">
                        <span class="font-bold text-sm dark:text-white">Maikhon</span>
                        <span class="text-[9px] font-bold text-gray-400 uppercase tracking-widest">Comercial</span>
                    </div>
                </label>
                <label class="vendedor-option block cursor-pointer group">
                    <input type="radio" name="vendedor" value="ryan" class="hidden">
                    <div class="p-4 border-2 border-gray-100 dark:border-zinc-800 rounded-2xl flex items-center justify-between transition-all group-hover:border-brand-orange">
                        <span class="font-bold text-sm dark:text-white">Ryan</span>
                        <span class="text-[9px] font-bold text-gray-400 uppercase tracking-widest">Log√≠stica</span>
                    </div>
                </label>
            </div>

            <div class="grid grid-cols-2 gap-3">
                <button onclick="closeAvailabilityModal()" class="py-4 bg-gray-100 dark:bg-zinc-800 rounded-2xl font-black uppercase text-[10px] tracking-widest text-gray-500 active:scale-95 transition-all italic">Voltar</button>
                <button onclick="sendAvailabilityRequest()" class="py-4 bg-brand-green text-white rounded-2xl font-black uppercase text-[10px] tracking-widest shadow-lg active:scale-95 transition-all italic">Enviar</button>
            </div>
        </div>
    </div>

    <!-- SCRIPT -->
    <script>
        document.addEventListener('DOMContentLoaded', function() {
            // Backup Users para funcionamento instant√¢neo
            const fallbackUsers = [
                { name: "Mikhaell Galv√£o", username: "mikhaell", password: "mk0639", role: "Administrador", phone: "62984710639", avatar: "https://i.imgur.com/ViDcChZ.jpeg" },
                { name: "Maikhon Galv√£o", username: "maikhon", password: "0639", role: "Administrador", phone: "62933001865", avatar: "" },
                { name: "Rafael Gomes", username: "rafael", password: "rf123", role: "Vendedor", phone: "62993344356", avatar: "" },
                { name: "Ryan Rodrigues", username: "ryan", password: "mk0639", role: "Administrador", phone: "62920007396", avatar: "" },
                { name: "Visitante", username: "consultas", password: "", role: "Visitante", avatar: "" }
            ];

            const contacts = {
                mikhaell: "62984710639",
                maikhon: "62933001865",
                ryan: "62920007396"
            };

            const elements = {
                loginForm: document.getElementById("login-form"),
                usernameInput: document.getElementById("username-input"),
                passwordInput: document.getElementById("password-input"),
                successMessage: document.getElementById("success-message"),
                errorMessage: document.getElementById("error-message"),
                loginView: document.getElementById("login-view"),
                dashboardView: document.getElementById("dashboard-view"),
                logoutButton: document.getElementById("logout-button"),
                visitorLoginButton: document.getElementById("visitor-login-button"),
                menuButton: document.getElementById("menu-button"),
                sidebarMenu: document.getElementById("sidebar-menu"),
                sidebarOverlay: document.getElementById("sidebar-overlay"),
                rememberCheckbox: document.getElementById("remember-me"),
                togglePasswordBtn: document.getElementById("toggle-password-visibility"),
                eyeIcon: document.getElementById("eye-icon"),
                logoTrigger: document.getElementById("login-logo-trigger"),
                sidebarConsultasText: document.getElementById("sidebar-consultas-text"),
                cardConsultasText: document.getElementById("card-consultas-text"),
                adminLink: document.getElementById("admin-link"),
                adminCard: document.getElementById("admin-card"),
                sobreLink: document.getElementById("sobre-link"),
                sidebarMarketingLink: document.getElementById("sidebar-marketing-link"),
                sidebarProdutosLink: document.getElementById("sidebar-produtos-link"),
                sidebarPerfilLink: document.getElementById("sidebar-perfil-link"),
                sidebarProfileHeader: document.getElementById("sidebar-profile-header"),
                cardMarketing: document.getElementById("card-marketing"),
                cardProdutos: document.getElementById("card-produtos"),
                cardPerfil: document.getElementById("card-perfil"),
                availabilityModal: document.getElementById("availability-modal"),
                modalProductName: document.getElementById("modal-product-name")
            };

            let usersData = [...fallbackUsers];
            let products = [];
            let loggedInUser = null;
            let currentSelectedProduct = "";
            const fmt = new Intl.NumberFormat("pt-BR", { style: "currency", currency: "BRL" });

            // LOGICA MODAL DISPONIBILIDADE
            window.openAvailabilityModal = (name) => {
                currentSelectedProduct = name;
                elements.modalProductName.textContent = name;
                elements.availabilityModal.classList.remove("hidden");
            };

            window.closeAvailabilityModal = () => {
                elements.availabilityModal.classList.add("hidden");
            };

            window.sendAvailabilityRequest = () => {
                const selected = document.querySelector('input[name="vendedor"]:checked').value;
                const phone = contacts[selected];
                const msg = encodeURIComponent(`üöÄ Ol√°! Gostaria de verificar a disponibilidade do item: *${currentSelectedProduct}*`);
                window.open(`https://wa.me/55${phone}?text=${msg}`, "_blank");
                closeAvailabilityModal();
            };

            // L√ìGICA LOGIN E SISTEMAS
            if (localStorage.getItem('galvao_remember') === 'true') {
                elements.usernameInput.value = localStorage.getItem('galvao_user') || '';
                elements.passwordInput.value = localStorage.getItem('galvao_pass') || '';
                elements.rememberCheckbox.checked = true;
            }

            elements.togglePasswordBtn.onclick = () => {
                const isPassword = elements.passwordInput.type === 'password';
                elements.passwordInput.type = isPassword ? 'text' : 'password';
                elements.eyeIcon.style.color = isPassword ? '#EF7E13' : '#9ca3af';
            };

            async function carregarSistemas() {
                try {
                    const uJson = await fetch('usuarios.json').then(r => r.ok ? r.json() : null);
                    if (uJson?.users) usersData = uJson.users;
                    const pJson = await fetch('produtos.json').then(r => r.ok ? r.json() : null);
                    products = pJson?.products || [];
                } catch(e) { console.warn("Modo backup."); }
            }

            function applyUserAvatar(user) {
                const sidebarPic = document.getElementById("sidebar-profile-picture");
                const sidebarPlaceholder = document.getElementById("sidebar-profile-placeholder");
                const innerPic = document.getElementById("profile-picture-container-inner");
                const innerPlaceholder = document.getElementById("profile-picture-placeholder-inner");
                const avatarUrl = user.avatar || user.Avatar;

                if (avatarUrl && avatarUrl.trim() !== "") {
                    const url = `url('${avatarUrl.trim()}')`;
                    sidebarPic.style.backgroundImage = url;
                    sidebarPlaceholder.style.opacity = "0";
                    if(innerPic) {
                        innerPic.style.backgroundImage = url;
                        if(innerPlaceholder) innerPlaceholder.style.opacity = "0";
                    }
                } else {
                    sidebarPic.style.backgroundImage = "none";
                    sidebarPlaceholder.style.opacity = "1";
                    sidebarPlaceholder.textContent = user.name.charAt(0);
                    if(innerPic) {
                        innerPic.style.backgroundImage = "none";
                        if(innerPlaceholder) innerPlaceholder.style.opacity = "1";
                    }
                }
            }

            function switchPage(pageId) {
                document.querySelectorAll(".page-content").forEach(p => p.classList.add("hidden"));
                const target = document.getElementById(pageId + "-page");
                if(target) target.classList.remove("hidden");
                document.querySelectorAll(".sidebar-link").forEach(l => {
                    l.classList.remove("active");
                    if(l.dataset.page === pageId) l.classList.add("active");
                });
                
                let title = pageId.toUpperCase();
                if (pageId === "consultas" && loggedInUser?.role === 'Visitante') title = "CONSULTAS DE DRONES";
                document.getElementById("page-title").textContent = title;

                if (pageId === "perfil") populateProfile();
                if (pageId === "consultas") renderProducts("consultas", true);
                if (pageId === "produtos") renderProducts("produtos", true);
                
                elements.sidebarMenu.classList.add("-translate-x-full");
                elements.sidebarOverlay.style.display = "none";
            }

            function renderProducts(containerId, showPrice) {
                const grid = document.getElementById(containerId + "-search-results");
                if(!grid) return;
                const search = (document.getElementById(containerId + "-search-input")?.value || "").toLowerCase();
                grid.innerHTML = "";
                const isVisitor = loggedInUser?.role === 'Visitante';

                products.filter(p => p.name.toLowerCase().includes(search)).forEach(p => {
                    const priceVal = parseFloat((p.sell || "0").replace('.','').replace(',','.'));
                    const card = document.createElement("div");
                    card.className = "bg-white dark:bg-zinc-900 p-6 rounded-[2.5rem] border dark:border-zinc-800 shadow-sm transition-all hover:shadow-xl active:scale-98";
                    
                    let priceHtml = isVisitor ? `<div class="mt-4 pt-4 border-t dark:border-zinc-800 text-center"><button onclick="handleSendWA('${p.name}', 0)" class="w-full bg-brand-orange/10 text-brand-orange py-4 rounded-2xl font-black uppercase text-[10px] border border-brand-orange/20">Consultar Vendedor</button></div>` : `<div class="mt-4 pt-4 border-t dark:border-zinc-800 text-slate-800 dark:text-white"><p class="text-[8px] font-black text-gray-400 uppercase tracking-widest">Valor Sugerido</p><p class="text-2xl font-black text-brand-green dark:text-white italic tracking-tighter leading-none">${fmt.format(priceVal)}</p></div>`;
                    
                    card.innerHTML = `
                        <h3 class="font-black text-brand-green dark:text-white uppercase italic text-xs tracking-tight text-left">${p.name}</h3>
                        <p class="text-[10px] text-gray-500 mt-1 uppercase font-bold italic text-left">${p.line || 'DJI'}</p>
                        ${showPrice ? priceHtml : ""}
                        <div class="mt-4 flex flex-col gap-2">
                             <button onclick="openAvailabilityModal('${p.name}')" class="w-full bg-brand-green text-white py-4 rounded-2xl font-bold uppercase text-[9px] shadow-sm active:bg-emerald-900 transition-colors tracking-widest italic">Disponibilidade</button>
                             ${!isVisitor ? `<button onclick="handleSendWA('${p.name}', ${priceVal})" class="w-full border-2 border-brand-green/20 text-brand-green dark:text-emerald-400 py-3 rounded-2xl font-bold uppercase text-[9px] active:bg-brand-green active:text-white transition-all italic">Atendimento WhatsApp</button>` : ''}
                        </div>
                    `;
                    grid.appendChild(card);
                });
            }

            elements.loginForm.onsubmit = async e => {
                e.preventDefault();
                elements.loginForm.classList.add("opacity-50", "pointer-events-none");
                elements.successMessage.classList.remove("hidden");
                
                await carregarSistemas();
                const user = usersData.find(x => x.username === elements.usernameInput.value && x.password === elements.passwordInput.value);
                
                if (user) {
                    if (elements.rememberCheckbox.checked) {
                        localStorage.setItem('galvao_remember', 'true');
                        localStorage.setItem('galvao_user', elements.usernameInput.value);
                        localStorage.setItem('galvao_pass', elements.passwordInput.value);
                    }
                    loggedInUser = user;
                    setTimeout(() => {
                        elements.loginView.classList.add("hidden");
                        elements.dashboardView.classList.remove("hidden");
                        document.getElementById("sidebar-user-name").textContent = user.name;
                        document.getElementById("sidebar-user-role").textContent = user.role;
                        applyUserAvatar(user);

                        const isVisitor = user.role === 'Visitante';
                        if (isVisitor) {
                            elements.sidebarConsultasText.textContent = "Consultas de Drones";
                            elements.cardConsultasText.textContent = "Consultas de Drones";
                            [elements.adminLink, elements.adminCard, elements.sobreLink, elements.sidebarMarketingLink, elements.sidebarProdutosLink, elements.sidebarPerfilLink, elements.sidebarProfileHeader, elements.cardMarketing, elements.cardProdutos, elements.cardPerfil].forEach(el => el?.classList.add("hidden"));
                        } else {
                            elements.sidebarConsultasText.textContent = "Consultas de Pre√ßo";
                            elements.cardConsultasText.textContent = "Consultas";
                            [elements.sobreLink, elements.sidebarMarketingLink, elements.sidebarProdutosLink, elements.sidebarPerfilLink, elements.sidebarProfileHeader, elements.cardMarketing, elements.cardProdutos, elements.cardPerfil].forEach(el => el?.classList.remove("hidden"));
                            if (user.role === 'Administrador') {
                                elements.adminLink.classList.remove("hidden");
                                elements.adminCard.classList.remove("hidden");
                            }
                        }
                        switchPage("dashboard");
                    }, 800);
                } else { 
                    elements.loginForm.classList.remove("opacity-50", "pointer-events-none");
                    elements.successMessage.classList.add("hidden");
                    elements.errorMessage.classList.remove("hidden");
                    setTimeout(() => elements.errorMessage.classList.add("hidden"), 3000);
                }
            };

            elements.logoutButton.onclick = () => location.reload();
            elements.menuButton.onclick = () => {
                elements.sidebarMenu.classList.remove("-translate-x-full");
                elements.sidebarOverlay.style.display = "block";
            };
            elements.sidebarOverlay.onclick = switchPage.bind(null, "dashboard"); // Fecha menu ao tocar no overlay
            document.getElementById("theme-toggle").onclick = () => document.documentElement.classList.toggle('dark');
            document.getElementById("consultas-search-button").onclick = () => renderProducts("consultas", true);
            elements.visitorLoginButton.onclick = () => {
                elements.usernameInput.value = "consultas"; elements.passwordInput.value = "";
                elements.loginForm.dispatchEvent(new Event('submit'));
            };
            document.querySelectorAll(".sidebar-link, .quick-access-link").forEach(l => {
                l.onclick = e => { if(l.dataset.page) switchPage(l.dataset.page); };
            });
        });

        window.handleSendWA = (name, price) => {
            const priceText = price > 0 ? `Ref: ${new Intl.NumberFormat('pt-BR', {style:'currency', currency:'BRL'}).format(price)}` : "(Consultar Especialista)";
            window.open(`https://wa.me/556236360668?text=${encodeURIComponent("üöÄ Ol√° Galv√£o Drones! Consulta T√©cnica: " + name + " - " + priceText)}`, "_blank");
        };
    </script>
</body>
</html>
